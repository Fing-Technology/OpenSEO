(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;$.Define($$,{OpenSEO:{Details:{Client:{DetailsViewer:$.Class({get_Body:function(){return c.detailsSection(this.id);}}),detailsSection:function(z){var A,B,C,D,E,F;A=f.Div($.New(h,{$:0}));B=i.add((C=j.Tags(),(D=g.ofArray([f.Attr().Class("tab-pane fade active in reportSection"),f.Id("details")]),C.NewTag("section",D))),g.ofArray([c.makeDiv("URL","url"),f.Hr($.New(h,{$:0})),c.makeDiv("Size","size"),f.Hr($.New(h,{$:0})),c.makeDiv("Server","server"),f.Hr($.New(h,{$:0})),c.makeDiv("Elapsed Time","elapsedTime"),f.Hr($.New(h,{$:0})),c.makeDiv("Title","title"),c.makeDiv("Length","titleLength"),f.Hr($.New(h,{$:0})),c.makeDiv("Description","description"),c.makeDiv("Length","descriptionLength"),f.Hr($.New(h,{$:0})),i.add(f.Div(g.ofArray([f.Attr().Class("row-fluid")])),g.ofArray([i.add(f.Div(g.ofArray([f.Attr().Class("span3")])),g.ofArray([i.add(f.H4(g.ofArray([f.Attr().Class("h4")])),g.ofArray([f.Text("Headings")]))])),i.add(f.Div(g.ofArray([f.Attr().Class("span9")])),g.ofArray([A]))]))]));E=(F=function(){var H,I,_6;H=(I=function(){var K,L;K=k.Async("Website:2",[z]);L=function(M){var N,O,P,X,Y,Z,_0,_1,_2,_4;N=g.ofArray([["#url",M.RequestUri],["#size",M.Size],["#server",M.Server],["#elapsedTime",M.ElapsedTime],["#title",M.Title],["#titleLength",M.TitleLength],["#description",M.Description],["#descriptionLength",M.DescriptionLength]]);O=(P=$.Tupled(function(Q){var R,S,T;R=Q[0];S=Q[1];T=function(U){return function(V){return c.setPText(U,V);};};return(T(R))(S);}),function(W){return l.iter(P,W);});O(N);X=(Y=M.Headings,Y.$==1?(Z=Y.$0,(_0=n.makeTabsDiv(Z),(A.AppendI(_0),o.Return(null)))):(null,o.Return(null)));_1=(_2=function(){n.updateProgressBar();return o.Return(null);},o.Delay(_2));_4=function(){return _1;};return o.Bind(X,_4);};return o.Bind(K,L);},o.Delay(I));_6=function(_7){var _8;_8={$:0};return o.Start(_7);};return _6(H);},function(_9){return i.OnAfterRender(F,_9);});E(B);return B;},makeDiv:function(_,ba){return i.add(f.Div(g.ofArray([f.Attr().Class("row-fluid")])),g.ofArray([i.add(f.Div(g.ofArray([f.Attr().Class("span3")])),g.ofArray([i.add(f.H4(g.ofArray([f.Attr().Class("h4")])),g.ofArray([f.Text(_)]))])),i.add(f.Div(g.ofArray([f.Attr().Class("span9")])),g.ofArray([f.P(g.ofArray([f.Id(ba)]))]))]));},setPText:function(ba,bb){return p(ba).text(bb);}}},Keywords:{Client:{KeywordsViewer:$.Class({get_Body:function(){return r.keywordsSection(this.id);}}),appendTd:function(bc,bd){return p("<td/>").text(bc).appendTo(bd);},displayKeywords:function(be,bf){var bg,bh,bi,bo,bp;bg=(bh=(bi=$.Tupled(function(bj){var bk,bl,bm;bk=bj[0];bl=bj[1];bm=bj[2];return r.tableRow(bk,bl,bm);}),function(bn){return s.map(bi,bn);}),bh(be));bo=(bp=function(bq){return bq.appendTo(p(bf));},function(br){return s.iter(bp,br);});return bo(bg);},keywordsSection:function(bs){var bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD;bt=i.add((bu=j.Tags(),(bv=g.ofArray([f.Attr().Class("tab-pane fade in reportSection"),f.Id("keywords")]),bu.NewTag("section",bv))),g.ofArray([i.add(f.Div(g.ofArray([f.Attr().Class("tabbable")])),g.ofArray([i.add(f.UL(g.ofArray([f.Attr().Class("nav nav-pills")])),g.ofArray([i.add(f.LI(g.ofArray([f.Attr().Class("active")])),g.ofArray([i.add(f.A(g.ofArray([f.HRef("#keywords1"),(bw=j.Attr(),(bx="data-"+"toggle",bw.NewAttr(bx,"tab")))])),g.ofArray([f.Text("1 Keyword")]))])),f.LI(g.ofArray([i.add(f.A(g.ofArray([f.HRef("#keywords2"),(by=j.Attr(),(bz="data-"+"toggle",by.NewAttr(bz,"tab")))])),g.ofArray([f.Text("2 Keywords")]))])),f.LI(g.ofArray([i.add(f.A(g.ofArray([f.HRef("#keywords3"),(bA=j.Attr(),(bB="data-"+"toggle",bA.NewAttr(bB,"tab")))])),g.ofArray([f.Text("3 Keywords")]))]))])),i.add(f.Div(g.ofArray([f.Attr().Class("tab-content")])),g.ofArray([i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane active fade in span8"),f.Id("keywords1")])),g.ofArray([r.makeTable("table1")])),i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane fade span8"),f.Id("keywords2")])),g.ofArray([r.makeTable("table2")])),i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane fade span8"),f.Id("keywords3")])),g.ofArray([r.makeTable("table3")]))]))]))]));bC=(bD=function(){var bF,bG,bL;bF=(bG=function(){var bI,bJ;bI=k.Async("Website:1",[bs]);bJ=function(bK){r.displayKeywords(bK.get_Item(0),"#table1");r.displayKeywords(bK.get_Item(1),"#table2");r.displayKeywords(bK.get_Item(2),"#table3");n.updateProgressBar();return o.Return(null);};return o.Bind(bI,bJ);},o.Delay(bG));bL=function(bM){var bN;bN={$:0};return o.Start(bM);};return bL(bF);},function(bO){return i.OnAfterRender(bD,bO);});bC(bt);return bt;},makeTable:function(bP){return i.add(f.Table(g.ofArray([f.Id(bP),f.Attr().Class("table table-bordered table-striped span10")])),g.ofArray([f.TR(g.ofArray([r.makeTh(bP),f.TH(g.ofArray([f.Text("Occurrence")])),f.TH(g.ofArray([f.Text("Density %")]))]))]));},makeTh:function(bQ){if(bQ==="table1"){return f.TH(g.ofArray([f.Text("Keyword")]));}else{return f.TH(g.ofArray([f.Text("Keywords Combination")]));}},tableRow:function(bR,bS,bT){var bU;bU=p("<tr/>");r.appendTd(bR,bU);r.appendTd(bS,bU);r.appendTd(bT,bU);return bU;}}},UrlForm:{Client:{FormViewer:$.Class({get_Body:function(){return u.urlForm();}}),urlForm:function(){var bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,cb,cc,cd,ce;bV=(bW=g.ofArray([f.Text("Enter the URL you want to analyze.")]),(bX=f.Tags(),bX.NewTag("legend",bW)));bY=(bZ=g.ofArray([f.Text("URL")]),(b0=f.Tags(),b0.NewTag("label",bZ)));b1=(b2=f.Input(g.ofArray([f.Attr().Class("input-xxlarge"),(b3=f.Attr(),b3.NewAttr("type","text")),(b4=j.Attr(),b4.NewAttr("placeholder","http://www.example.com/")),(b5=j.Attr(),b5.NewAttr("autofocus","autofocus")),(b6=j.Attr(),b6.NewAttr("spellcheck","false"))])),(b7=(b8=function(){return function(b_){var b$;b$=b_.KeyCode;if(b$===13){return p("#submitButton").click();}else{return null;}};},function(ca){return v.Events().OnKeyDown(b8,ca);}),(b7(b2),b2)));cb=(cc=f.Button(g.ofArray([f.Id("submitButton"),f.Attr().Class("btn btn-primary"),f.Text("Submit")])),(cd=(ce=function(cf){return function(){var ch,ci,cv;ch=(ci=function(){var ck,cl,cn,co,cp;ck=cf["HtmlProvider@32"];(cl=cf.Body,function(cm){return ck.AddClass(cl,cm);})("disabled");cn=p("#loader");cn.css("visibility","visible");co=k.Async("Website:0",[b1.get_Value()]);cp=function(cq){var cr,cs,ct;if(cq.$==1){cr=cq.$0;w.location.href="/Report/"+cr;return o.Return(null);}else{cn.css("visibility","hidden");x("Requesting the specified URL failed.");cs=cf["HtmlProvider@32"];(ct=cf.Body,function(cu){return cs.RemoveClass(ct,cu);})("disabled");return o.Return(null);}};return o.Bind(co,cp);},o.Delay(ci));cv=function(cw){var cx;cx={$:0};return o.Start(cw);};return cv(ch);};},function(cy){return v.Events().OnClick(ce,cy);}),(cd(cc),cc)));return i.add(f.Div(g.ofArray([f.Id("urlForm"),f.Attr().Class("offset2")])),g.ofArray([bV,bY,b1,f.Div(g.ofArray([cb]))]));}}},Utilities:{Client:{makeDiv:function(cz,cA,cB){if(cz===0){return i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane fade active in"),f.Id(cA)])),g.ofArray([n.makeList(cB)]));}else{return i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane fade"),f.Id(cA)])),g.ofArray([n.makeList(cB)]));}},makeLi:function(cC,cD){var cE,cF,cG,cH;if(cC===0){return i.add(f.LI(g.ofArray([f.Attr().Class("active")])),g.ofArray([i.add(f.A(g.ofArray([f.HRef("#"+cD),(cE=j.Attr(),(cF="data-"+"toggle",cE.NewAttr(cF,"tab")))])),g.ofArray([f.Text(cD)]))]));}else{return f.LI(g.ofArray([i.add(f.A(g.ofArray([f.HRef("#"+cD),(cG=j.Attr(),(cH="data-"+"toggle",cG.NewAttr(cH,"tab")))])),g.ofArray([f.Text(cD)]))]));}},makeList:function(cI){return f.UL(l.toList(l.delay(function(){return l.map(function(cK){return f.LI(g.ofArray([f.Text(cK)]));},cI);})));},makeTabsDiv:function(cL){var cM,cN,cO,cP,cS,cT,cX,cY,cZ;cM=(cN=(cO=(cP=$.Tupled(function(cQ){return cQ[0];}),function(cR){return s.map(cP,cR);}),cO(cL)),(cS=(cT=function(cU){return function(cV){return n.makeLi(cU,cV);};},function(cW){return s.mapi(cT,cW);}),cS(cN)));cX=(cY=(cZ=function(c0){return $.Tupled(function(c1){var c2,c3;c2=c1[0];c3=c1[1];return n.makeDiv(c0,c2,c3);});},function(c4){return s.mapi(cZ,c4);}),cY(cL));return i.add(f.Div(g.ofArray([f.Attr().Class("tabbable")])),g.ofArray([i.add(f.UL(g.ofArray([f.Attr().Class("nav nav-pills")])),cM),i.add(f.Div(g.ofArray([f.Attr().Class("tab-content")])),cX)]));},updateProgressBar:function(){var c5,c6,c7,c8,c_,c$,da,db,dd;c5=p("#progressBar");c6=(c7=y(c5.data("width")),(c8=function(c9){return c9<<0;},c8(c7)));if(c6===50){c5.css("width","100%");return p("#progressDiv").fadeOut(10000);}else{c_=c6+50;c$=(da=(db=function(dc){return $$.String(dc);},db(c_)),(dd=function(de){return de+"%";},dd(da)));c5.css("width",c$);c5.data("width",c_);return p("#progressDiv").fadeOut(10000);}}}}}});$.OnInit(function(){a=$.Safe($$.OpenSEO);b=$.Safe(a.Details);c=$.Safe(b.Client);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Html);f=$.Safe(e.Default);g=$.Safe(d.List);h=$.Safe(g.T);i=$.Safe(e.Operators);j=$.Safe(f.HTML5);k=$.Safe(d.Remoting);l=$.Safe(d.Seq);m=$.Safe(a.Utilities);n=$.Safe(m.Client);o=$.Safe(d.Concurrency);p=$.Safe($$.jQuery);q=$.Safe(a.Keywords);r=$.Safe(q.Client);s=$.Safe(d.Arrays);t=$.Safe(a.UrlForm);u=$.Safe(t.Client);v=$.Safe(e.EventsPervasives);w=$.Safe($$.window);x=$.Safe($$.alert);return y=$.Safe($$.String);});$.OnLoad(function(){});}());
