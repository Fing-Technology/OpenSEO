(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;$.Define($$,{OpenSEO:{Details:{Client:{DetailsViewer:$.Class({get_Body:function(){return c.detailsSection(this.id);}}),detailsSection:function(y){var z,A,B,C,D,E;z=f.Div($.New(h,{$:0}));A=i.add((B=j.Tags(),(C=g.ofArray([f.Attr().Class("tab-pane fade active in reportSection"),f.Id("details")]),B.NewTag("section",C))),g.ofArray([c.makeDiv("URL","url"),f.Hr($.New(h,{$:0})),c.makeDiv("Size","size"),f.Hr($.New(h,{$:0})),c.makeDiv("Server","server"),f.Hr($.New(h,{$:0})),c.makeDiv("Elapsed Time","elapsedTime"),f.Hr($.New(h,{$:0})),c.makeDiv("Title","title"),c.makeDiv("Length","titleLength"),f.Hr($.New(h,{$:0})),c.makeDiv("Description","description"),c.makeDiv("Length","descriptionLength"),f.Hr($.New(h,{$:0})),i.add(f.Div(g.ofArray([f.Attr().Class("row-fluid")])),g.ofArray([i.add(f.Div(g.ofArray([f.Attr().Class("span4")])),g.ofArray([i.add(f.H4(g.ofArray([f.Attr().Class("h4")])),g.ofArray([f.Text("Headings")]))])),i.add(f.Div(g.ofArray([f.Attr().Class("span8")])),g.ofArray([z]))]))]));D=(E=function(){var G,H,X;G=(H=function(){var J,K;J=k.Async("Website:2",[y]);K=function(L){var M,N,O,W;M=g.ofArray([["#url",L.RequestUri],["#size",L.Size],["#server",L.Server],["#elapsedTime",L.ElapsedTime],["#title",L.Title],["#titleLength",L.TitleLength],["#description",L.Description],["#descriptionLength",L.DescriptionLength]]);N=(O=$.Tupled(function(P){var Q,R,S;Q=P[0];R=P[1];S=function(T){return function(U){return c.setPText(T,U);};};return(S(Q))(R);}),function(V){return l.iter(O,V);});N(M);W=n.makeTabsDiv(L.Headings);z.AppendI(W);return o.Return(null);};return o.Bind(J,K);},o.Delay(H));X=function(Y){var Z;Z={$:0};return o.Start(Y);};return X(G);},function(_0){return i.OnAfterRender(E,_0);});D(A);return A;},makeDiv:function(_1,_2){return i.add(f.Div(g.ofArray([f.Attr().Class("row-fluid")])),g.ofArray([i.add(f.Div(g.ofArray([f.Attr().Class("span4")])),g.ofArray([i.add(f.H4(g.ofArray([f.Attr().Class("h4")])),g.ofArray([f.Text(_1)]))])),i.add(f.Div(g.ofArray([f.Attr().Class("span8")])),g.ofArray([f.P(g.ofArray([f.Id(_2)]))]))]));},setPText:function(_3,_4){return p(_3).text(_4);}}},Keywords:{Client:{KeywordsViewer:$.Class({get_Body:function(){return r.keywordsSection(this.id);}}),appendTd:function(_5,_6){return p("<td/>").text(_5).appendTo(_6);},displayKeywords:function(_7,_8){var _9,_,ba,bf,bg;_9=(_=(ba=$.Tupled(function(bb){var bc,bd,be;bc=bb[0];bd=bb[1];be=bb[2];return r.tableRow(bc,bd,be);}),function(be){return s.map(ba,be);}),_(_7));bf=(bg=function(bh){return bh.appendTo(p(_8));},function(bi){return s.iter(bg,bi);});return bf(_9);},keywordsSection:function(bj){var bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu;bk=i.add((bl=j.Tags(),(bm=g.ofArray([f.Attr().Class("tab-pane fade in reportSection"),f.Id("keywords")]),bl.NewTag("section",bm))),g.ofArray([i.add(f.Div(g.ofArray([f.Attr().Class("tabbable")])),g.ofArray([i.add(f.UL(g.ofArray([f.Attr().Class("nav nav-pills")])),g.ofArray([i.add(f.LI(g.ofArray([f.Attr().Class("active")])),g.ofArray([i.add(f.A(g.ofArray([f.HRef("#keywords1"),(bn=j.Attr(),(bo="data-"+"toggle",bn.NewAttr(bo,"tab")))])),g.ofArray([f.Text("1 Keyword")]))])),f.LI(g.ofArray([i.add(f.A(g.ofArray([f.HRef("#keywords2"),(bp=j.Attr(),(bq="data-"+"toggle",bp.NewAttr(bq,"tab")))])),g.ofArray([f.Text("2 Keywords")]))])),f.LI(g.ofArray([i.add(f.A(g.ofArray([f.HRef("#keywords3"),(br=j.Attr(),(bs="data-"+"toggle",br.NewAttr(bs,"tab")))])),g.ofArray([f.Text("3 Keywords")]))]))])),i.add(f.Div(g.ofArray([f.Attr().Class("tab-content")])),g.ofArray([i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane active fade in span8"),f.Id("keywords1")])),g.ofArray([r.makeTable("table1")])),i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane fade span8"),f.Id("keywords2")])),g.ofArray([r.makeTable("table2")])),i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane fade span8"),f.Id("keywords3")])),g.ofArray([r.makeTable("table3")]))]))]))]));bt=(bu=function(){var bw,bx,bC;bw=(bx=function(){var bz,bA;bz=k.Async("Website:1",[bj]);bA=function(bB){r.displayKeywords(bB.get_Item(0),"#table1");r.displayKeywords(bB.get_Item(1),"#table2");r.displayKeywords(bB.get_Item(2),"#table3");return o.Return(null);};return o.Bind(bz,bA);},o.Delay(bx));bC=function(bD){var bE;bE={$:0};return o.Start(bD);};return bC(bw);},function(bF){return i.OnAfterRender(bu,bF);});bt(bk);return bk;},makeTable:function(bG){return i.add(f.Table(g.ofArray([f.Id(bG),f.Attr().Class("table table-bordered table-striped span10")])),g.ofArray([f.TR(g.ofArray([r.makeTh(bG),f.TH(g.ofArray([f.Text("Occurrence")])),f.TH(g.ofArray([f.Text("Density %")]))]))]));},makeTh:function(bH){if(bH==="table1"){return f.TH(g.ofArray([f.Text("Keyword")]));}else{return f.TH(g.ofArray([f.Text("Keywords Combination")]));}},tableRow:function(bI,bJ,bK){var bL;bL=p("<tr/>");r.appendTd(bI,bL);r.appendTd(bJ,bL);r.appendTd(bK,bL);return bL;}}},UrlForm:{Client:{FormViewer:$.Class({get_Body:function(){return u.urlForm();}}),urlForm:function(){var bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,b3,b4,b5,b6,b7;bM=(bN=g.ofArray([f.Text("Enter the URL you want to analyze.")]),(bO=f.Tags(),bO.NewTag("legend",bN)));bP=(bQ=g.ofArray([f.Text("URL")]),(bR=f.Tags(),bR.NewTag("label",bQ)));bS=(bT=f.Input(g.ofArray([f.Attr().Class("input-xxlarge"),(bU=f.Attr(),bU.NewAttr("type","text")),(bV=j.Attr(),bV.NewAttr("placeholder","http://www.example.com/")),(bW=j.Attr(),bW.NewAttr("autofocus","autofocus"))])),(bX=(bY=function(){return function(b0){var b1;b1=b0.KeyCode;if(b1===13){return p("#submitButton").click();}else{return null;}};},function(b2){return v.Events().OnKeyDown(bY,b2);}),(bX(bT),bT)));b3=(b4=f.Button(g.ofArray([f.Id("submitButton"),f.Attr().Class("btn btn-primary"),f.Text("Submit"),(b5=f.Attr(),b5.NewAttr("type","button"))])),(b6=(b7=function(b8){return function(){var b_,b$,cm;b_=(b$=function(){var cb,cc,ce,cf,cg;cb=b8["HtmlProvider@32"];(cc=b8.Body,function(cd){return cb.AddClass(cc,cd);})("disabled");ce=p("#loader");ce.css("visibility","visible");cf=k.Async("Website:0",[bS.get_Value()]);cg=function(ch){var ci,cj,ck;if(ch.$==1){ci=ch.$0;w.location.href="/Report/"+ci;return o.Return(null);}else{ce.css("visibility","hidden");x("Requesting the specified URL failed.");cj=b8["HtmlProvider@32"];(ck=b8.Body,function(cl){return cj.RemoveClass(ck,cl);})("disabled");return o.Return(null);}};return o.Bind(cf,cg);},o.Delay(b$));cm=function(cn){var co;co={$:0};return o.Start(cn);};return cm(b_);};},function(cp){return v.Events().OnClick(b7,cp);}),(b6(b4),b4)));return i.add(f.Div(g.ofArray([f.Id("urlForm"),f.Attr().Class("offset2")])),g.ofArray([bM,bP,bS,f.Div(g.ofArray([b3]))]));}}},Utilities:{Client:{makeDiv:function(cq,cr,cs){if(cq===0){return i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane fade active in"),f.Id(cr)])),g.ofArray([n.makeList(cs)]));}else{return i.add(f.Div(g.ofArray([f.Attr().Class("tab-pane fade"),f.Id(cr)])),g.ofArray([n.makeList(cs)]));}},makeLi:function(ct,cu){var cv,cw,cx,cy;if(ct===0){return i.add(f.LI(g.ofArray([f.Attr().Class("active")])),g.ofArray([i.add(f.A(g.ofArray([f.HRef("#"+cu),(cv=j.Attr(),(cw="data-"+"toggle",cv.NewAttr(cw,"tab")))])),g.ofArray([f.Text(cu)]))]));}else{return f.LI(g.ofArray([i.add(f.A(g.ofArray([f.HRef("#"+cu),(cx=j.Attr(),(cy="data-"+"toggle",cx.NewAttr(cy,"tab")))])),g.ofArray([f.Text(cu)]))]));}},makeList:function(cz){return f.UL(l.toList(l.delay(function(){return l.map(function(cB){return f.LI(g.ofArray([f.Text(cB)]));},cz);})));},makeTabsDiv:function(cC){var cD,cE,cF,cG,cJ,cK,cO,cP,cQ;cD=(cE=(cF=(cG=$.Tupled(function(cH){return cH[0];}),function(cI){return s.map(cG,cI);}),cF(cC)),(cJ=(cK=function(cL){return function(cM){return n.makeLi(cL,cM);};},function(cN){return s.mapi(cK,cN);}),cJ(cE)));cO=(cP=(cQ=function(cR){return $.Tupled(function(cS){var cT,cU;cT=cS[0];cU=cS[1];return n.makeDiv(cR,cT,cU);});},function(cV){return s.mapi(cQ,cV);}),cP(cC));return i.add(f.Div(g.ofArray([f.Attr().Class("tabbable")])),g.ofArray([i.add(f.UL(g.ofArray([f.Attr().Class("nav nav-tabs")])),cD),i.add(f.Div(g.ofArray([f.Attr().Class("tab-content")])),cO)]));}}}}});$.OnInit(function(){a=$.Safe($$.OpenSEO);b=$.Safe(a.Details);c=$.Safe(b.Client);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Html);f=$.Safe(e.Default);g=$.Safe(d.List);h=$.Safe(g.T);i=$.Safe(e.Operators);j=$.Safe(f.HTML5);k=$.Safe(d.Remoting);l=$.Safe(d.Seq);m=$.Safe(a.Utilities);n=$.Safe(m.Client);o=$.Safe(d.Concurrency);p=$.Safe($$.jQuery);q=$.Safe(a.Keywords);r=$.Safe(q.Client);s=$.Safe(d.Arrays);t=$.Safe(a.UrlForm);u=$.Safe(t.Client);v=$.Safe(e.EventsPervasives);w=$.Safe($$.window);return x=$.Safe($$.alert);});$.OnLoad(function(){});}());
